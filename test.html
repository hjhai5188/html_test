<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script defer src="OPPO Reno13_files/main-v7.js"></script>
    <link rel="stylesheet" href="style1.css" />
    <title>test</title>
  </head>
  <body>
    <div class="nav">
      <img class="img_logo" src="img/oppo_logo.png" />
      <div class="navbar">
        <div class="text-settings">OPPO 产品</div>
        <div class="text-settings">一加产品</div>
        <div class="text-settings">关于 OPPO</div>
        <div class="text-settings">ColorOS</div>
      </div>
      <div class="navbar2">
        <div class="text-settings2">官方商城</div>
        <div class="text-settings2">服务</div>
        <div class="text-settings2">企业业务</div>
      </div>
      <div class="div-search">
        <img class="search_img" src="img/search.png" />
        <div class="input"><div class="text-input">搜索 OPPO</div></div>
      </div>
      <img class="user_image" src="img/user_image.png" />
      <img class="shop_logo" src="img/shop_logo.png" />
    </div>
    <div class="scroll_keep">
      <div class="div-navbar-container">
        <div class="selection">
          <div class="reno13_left">Reno13 Pro</div>
          <div class="vl">|</div>
          <div class="reno13_right">Reno13</div>
        </div>
        <div class="div-navbar-right">
          <div class="introduce">
            <div class="radius_frame">
              <img class="intro_logo" src="img/summary.png" />
              <div class="text_summary">概览</div>
            </div>
            <img class="data_logo" src="img/data.png" />
            <div class="text_data">参数</div>
          </div>
          <div class="blue_frame">
            <div class="instant_buy">立即购买</div>
          </div>
        </div>
      </div>

      <div class="main_introduce" id="mainIntroduce">
        <img
          class="big-background-img"
          id="bgImage"
          src="img/bigground_picture.png"
        />
        <div class="text_layout">
          <div class="reno13_bg">Reno13</div>
          <div class="reno13_bg2">超美小直屏</div>
          <div class="detail_introduce">
            <div class="text_introduce">AI 高清实况照片</div>
            <div class="text_introduce">双芯抢网</div>
            <div class="text_introduce">全系 IP69 满级防水</div>
          </div>
        </div>
        <div class="oppo_ai"></div>
        <div class="oppo_system"></div>
      </div>

      <div class="six_images">
        <div class="card">
          <img class="card-image" src="img/zhixiaoping.png" />
          <div class="card-content">
            <div class="card-title">超美小直屏</div>
            <div class="hidden-text">
              <p>质感金属中框</p>
              <p>一体式冷雕玻璃</p>
              <p>极窄黑边设计</p>
            </div>
          </div>
        </div>

        <div class="card">
          <img class="card-image" src="img/AI gaoqing.png" />
          <div class="card-content">
            <h3 class="card-title">AI 高清实况照片</h3>
            <div class="hidden-text">
              <p>柔光实况照片</p>
              <p>实况照片水印相框</p>
            </div>
          </div>
        </div>

        <div class="card">
          <img class="card-image" src="img/shuangxin.png" />
          <div class="card-content">
            <h3 class="card-title">双芯抢网</h3>
            <div class="hidden-text">
              <p>自研抢网芯片 X1</p>
              <p>游戏云计算专网</p>
            </div>
          </div>
        </div>
        <div class="card">
          <img class="card-image" src="img/IP69.png" />
          <div class="card-content">
            <h3 class="card-title">IP69 满级防水</h3>
            <div class="hidden-text">
              <p>水下相机</p>
              <p>IP69 &amp; IP68 &amp; IP66 满级防水</p>
            </div>
          </div>
        </div>
        <div class="card">
          <img class="card-image" src="img/tianji.png" />
          <div class="card-content">
            <h3 class="card-title">天玑 8350 旗舰芯</h3>
            <div class="hidden-text">
              <p>至高 16GB + 1TB 超大内存</p>
            </div>
          </div>
        </div>
        <div class="card">
          <img class="card-image" src="img/coloros.png" />
          <div class="card-content">
            <h3 class="card-title">ColorOS 15</h3>
            <div class="hidden-text">
              <p>超流畅 超智慧 超好用</p>
              <p>一碰互传</p>
              <p>一键问屏</p>
            </div>
          </div>
        </div>
      </div>
      <div class="margin_modified">
        <div class="zn--wrapper">
          <div class="w-screen relative z-1">
            <div class="test1">
              <div
                class="relative z-1"
                id="section-ksp"
                style="transform: translateY(122.04px)"
              >
                <div class="section-cover" style="opacity: 1"></div>
              </div>

              <div class="relative text-opacity z-2" ani-design="">
                <div class="grid_view" ani-grid-1="">
                  <img
                    class="bg-img"
                    src="img/big_bg_img.png"
                    style="
                      border-top-left-radius: 64px;
                      border-top-right-radius: 64px;
                      opacity: 1;
                      transition: opacity 0.3s;
                    "
                  />
                  <div class="text_main">超美小直屏<br />这么美，还那么强</div>

                  <div class="pictures_gird">
                    <div class="bg-img z-2">
                      <div
                        class="right_picture_1"
                        ani-card-right-1=""
                        style="opacity: 0.620322; transform: scale(1.03037)"
                      >
                        <img
                          class="bg-img"
                          src="img/bg_right_1.png"
                          style="opacity: 1; transition: opacity 0.3s"
                        />
                      </div>
                      <div
                        class="right_picture_2"
                        ani-card-right-2=""
                        style="opacity: 0.620322; transform: scale(1.03037)"
                      >
                        <img
                          class="bg-img"
                          style="opacity: 1; transition: opacity 0.3s"
                          src="img/big_right_2.png"
                        />
                      </div>

                      <div
                        class="left_picture_frame"
                        ani-card-left=""
                        style="opacity: 0.620322; transform: scale(1.03037)"
                      >
                        <div class="left_picture">
                          <img
                            class="bg-img"
                            style="opacity: 1; transition: opacity 0.3s"
                            src="img/big_left.png"
                          />
                        </div>

                        <div class="text_frame_settings">
                          <div class="font_frame">蝶影光刻工艺</div>
                          <div color-desc-text="" class="font_frame_2">
                            蝶翼翩翩，光影流动
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="bg-img z-1">
                      <div
                        class="grey-bg-layer"
                        grey-bg-layer=""
                        style="transform: scale(2.37506)"
                      ></div>
                      <div
                        class="grey-bg-layer_2"
                        top-layer=""
                        style="
                          clip-path: inset(34.56% 27.36% 7.27% round 9.40353px);
                        "
                      >
                        <div
                          class="bg-img"
                          top-layer-img=""
                          style="
                            transform-origin: 50% 70.9173%;
                            transform: scale(0.759492);
                          "
                        >
                          <img
                            class="bg-img"
                            style="opacity: 1; transition: opacity 0.3s"
                            src="img/big_bg_img_modified.png"
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="main_view">
        <div class="three_images_frame">
          <div class="img_container" id="img-container">
            <img class="images_3" id="image" alt="" src="img/3_imgs_1.png" />
          </div>
          <div class="first_big_text">
            <p style="margin: 0">质感金属中框<br />够精致，够坚固</p>
            <div class="text_small">
              采用铝合金金属中框，精致质感好惊艳，强韧坚固靠得住。
            </div>
          </div>

          <div class="section_text_1">
            <div class="section_next_1">3 倍强韧</div>
            <div class="section_next_2">不惧重压</div>
          </div>
          <div class="section_text_2">
            <div class="section_next_1">提升 36%</div>
            <div class="section_next_2">抗弯折能力</div>
          </div>

          <div class="img_container_right" id="img-container2">
            <img class="images_3" alt="" id="image2" src="img/3_imgs_2.png" />
          </div>
          <div class="second_big_text">
            <p style="margin: 0">一体式冷雕玻璃<br />美得天衣无“缝”</p>
            <div class="text_small">
              后盖采用整块玻璃一体冷雕塑形而成，严丝合缝，浑然一体。
            </div>
          </div>

          <div class="img_container" id="img-container3">
            <img class="images_3" id="image3" alt="" src="img/3_imgs_3.png" />
          </div>
          <div class="third_big_text">
            <p style="margin: 0">极窄黑边设计<br />正脸好看到没边</p>
            <div class="text_small_2">
              极致的屏组黑边设计，让 Reno13 上边框仅
              1.64mm，左右边框仅1.65mm，带来极致窄边的显示效果。
            </div>
          </div>
        </div>
      </div>
      <div class="last_main_frame">
        <div class="last_picture_frame">
          <div class="fit_frame">
            <img class="img_fit" src="img/full_img.png" />
            <div class="main_big_textarea">
              轻薄升级，手感越级
              <div class="small_textarea">薄至 7.24mm 轻至 181g</div>
            </div>
          </div>
          <div class="img_two">
            <div class="fit_frame">
              <img class="img_fit" src="img/left_img.png" />
              <div class="main_big_textarea">
                小身板，大容量
                <div class="small_textarea">5600mAh 五年耐用大电池</div>
              </div>
            </div>
            <div class="fit_frame">
              <img class="img_fit" src="img/right_img.png" />
              <div class="main_big_textarea">
                超窄边小直屏
                <div class="small_textarea">更小更趁手</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

  <script>
    const container1 = document.getElementById("img-container");
    const image1 = document.getElementById("image");
    const container2 = document.getElementById("img-container2");
    const image2 = document.getElementById("image2");
    const container3 = document.getElementById("img-container3");
    const image3 = document.getElementById("image3");
    document.documentElement.scrollTop = 0;

    const bgOverlay = document.createElement("div");
    bgOverlay.id = "bgOverlay";
    document.getElementById("mainIntroduce").appendChild(bgOverlay);

    window.addEventListener("scroll", () => {
      const scrollY = window.scrollY;
      const elementHeight =
        document.getElementById("mainIntroduce").offsetHeight;

      if (scrollY >= -47 && scrollY <= elementHeight) {
        const progress = scrollY / elementHeight;
        bgOverlay.style.background = `rgba(0, 0, 0, ${progress.toFixed(2)})`;
      } else if (scrollY > elementHeight) {
        bgOverlay.style.background = `rgba(0, 0, 0, 1)`;
      }
    });

    const sixImagesSection = document.querySelector(".six_images");

    window.addEventListener("scroll", () => {
      const sectionHeight = sixImagesSection.offsetHeight;
      const scrollY = window.scrollY;
      const windowHeight = window.innerHeight;

      const sectionScrollProgress = Math.min(
        Math.max(((scrollY + windowHeight - 1700) / sectionHeight) * 1.7, 0),
        1
      );

      const opacity = 1 - sectionScrollProgress;
      sixImagesSection.style.opacity = opacity.toFixed(2);
    });

    const container = document.getElementById("img-container");


    function getElementTop(elem) {
      const rect = elem.getBoundingClientRect();

      return window.pageYOffset;
    }
    console.log("高度", getElementTop(container));

    const fit_height = getElementTop(container);
    const maxScroll = 640;

    var a = fit_height;

    window.addEventListener("scroll", () => {
      const scrollY = Math.max(0, window.scrollY - a + 47);

      function updateImageEffect(container, image, offset) {
        const containerTop = container.getBoundingClientRect().top;
        if (
          containerTop <= window.innerHeight &&
          containerTop + container.offsetHeight >= 0
        ) {
          const scrolled = Math.min(Math.max(scrollY - offset, 0), maxScroll);
          const scrollFactor = scrolled / maxScroll;


          container.style.setProperty(
            "clip-path",
            `inset(0px 0px ${scrolled}px 0px)`,
            "important"
          );


          const scale = 1.1 - scrollFactor * 0.05;
          image.style.setProperty("transform", `scale(${scale})`, "important");
        }
      }

      updateImageEffect(container1, image1, 0);
      updateImageEffect(container2, image2, 640);
      updateImageEffect(container3, image3, 1280);
    });

    function getElementTop(elem) {
      const rect = elem.getBoundingClientRect(); 

      return rect.top + window.pageYOffset; 
    }
    console.log("高度", getElementTop(container));

    window.onload = function () {
  
      window.scrollTo(0, 0); 
      document.body.scrollTop = 0; 
      document.documentElement.scrollTop = 0; 
    };
  </script>
</html>
